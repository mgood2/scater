test <- rep(1:2, each = 4)
test <- as.factor(test)
test
nlevels(test)
test == levels(test)[1]
library(matrixStats0
)
library(matrixStats)
rowMedians
rev(1:10)
group <- test
paste0(levels(group), collapse = "-")
paste0(rev(levels(group)), collapse = "-")
args(rank)
rank(1:10)
rank(10:1)
rank(c(-1:10, 1:10))
rank(c(-c(1:10), 1:10))
unique(group)
top
getwd()
setwd("../")
library(roxygen2)
rosygenise()
roxygenise()
getwd()
setwd("Projects/014_Single_Cell/")
traceback()
debug(getLogFCOneBlock)
debug(testRankProduct.matrix)
negenes
ngenes
group
debug(getLogFCOneBlock)
getLogFCOneBlock(yox1407_rp_unitvar, as.factor(yox1407$samples$BCR_ABL))
group
idx1
idx2
ncells
k
k
getLogFCOneBlock(yox1407_rp_unitvar, as.factor(yox1407$samples$BCR_ABL))
traceback()
getLogFCOneBlock
debug(getLogFCOneBlock)
getLogFCOneBlock(yox1407_rp_unitvar, as.factor(yox1407$samples$BCR_ABL))
idx1
idx2
ngroup1
ngroup2
ncells
k
logFC[, ((i - 1) * ngroup2 + 1):(i * ngroup2)]
i
logFC[, ((i - 1) * ngroup2 + 1):(i * ngroup2)]
getLogFCOneBlock(yox1407_rp_unitvar, as.factor(yox1407$samples$BCR_ABL))
head(data_matrix[, idx1[i]])
head(data_matrix[, idx2])
head(data_matrix[, idx1[i]]) - head(data_matrix[, idx2])
head(logFC[, ((i - 1) * ngroup2 + 1):(i * ngroup2)])
data_matrix[, idx1[i], drop = FALSE] %>% head
head(data_matrix[, idx1[i], drop = FALSE]) - head(data_matrix[, idx2])
Q
debug(getLogFCOneBlock)
getLogFCOneBlock(yox1407_rp_unitvar, as.factor(yox1407$samples$BCR_ABL))
idx_this_insertion
head(data_matrix[, idx1[i]] - data_matrix[, idx2])
head(logFC[, idx_this_insertion])
tmp <- data_matrix[, idx1[i]] - data_matrix[, idx2]
logFC[, idx_this_insertion] <- tmp
traceback()
getLogFCOneBlock(yox1407_rp_unitvar, as.factor(yox1407$samples$BCR_ABL))
library(scater)
library(devtools)
reload("scater"0
reload("scater")
reload("~/Projects/scater")
traceback()
debug(calcRankProdBounds)
calcRankProdBounds
reload("~/Projects/scater")
debug(calcRankProdBounds)
    ox1407_scater_rankprod_bcrabl_res <- testRankProduct.matrix(yox1407_rp_unitvar, group = yox1407$samples$BCR_ABL)
n^k
logn
allj
summary(rho)
Q
q()
n
setwd("014_Single_Cell/)
")
setwd("014_Single_Cell/")
library(devtools)
reload("~/Projects/scater")
reload("~/Projects/scater")
oo[1:10]
q()
n
